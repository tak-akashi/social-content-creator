"""週刊AIニュースハイライト テンプレート。"""

from src.models.template import ContentTemplate, TemplateSection


def create_template() -> ContentTemplate:
    """週刊AIニュースハイライトのテンプレートを作成する。"""
    return ContentTemplate(
        content_type="weekly-ai-news",
        name="週刊AIニュースハイライト",
        description="過去1週間のAI関連ニュースを厳選して紹介する記事",
        min_words=3000,
        max_words=5000,
        sections=[
            TemplateSection(
                title="今週のハイライト",
                description=(
                    "blockquote（> ）で全ニュースのアンカーリンク付き一覧を表示する。\n"
                    "各行は「- [ニュースタイトル ― サブタイトル](#news-N)」の形式。\n"
                    "一覧の後に空行を入れ、今週全体の総括を1〜2文で記述する。\n"
                    "すべてblockquote内に収める。\n"
                    "\n"
                    "例:\n"
                    "> - [ニュース1のタイトル ― サブタイトル](#news-1)\n"
                    "> - [ニュース2のタイトル ― サブタイトル](#news-2)\n"
                    ">\n"
                    "> 総括文。"
                ),
            ),
            TemplateSection(
                title="主要ニュース",
                description=(
                    "8〜10件のニュースを個別に詳細解説する。\n"
                    "各ニュースはh3見出しで区切り、HTMLのid属性でアンカーを設定する:\n"
                    '<h3 id="news-N">N. ニュースタイトル</h3>\n'
                    "\n"
                    "各ニュースは以下の構成:\n"
                    "1. 日付・主体・内容を含むリード文（1〜2文）\n"
                    "2. 詳細解説（1〜2段落、太字で重要ポイントを強調）\n"
                    "3. 末尾に「【参考】[記事タイトル - メディア名](URL)」\n"
                    "\n"
                    "h3見出しの番号はHTMLタグ内に含めるためCocoonの目次には影響しない。"
                ),
            ),
            TemplateSection(
                title="業界動向・トレンド",
                description=(
                    "今週のニュースから読み取れる業界全体の動きを2〜3テーマで分析する。\n"
                    "h3見出しでテーマごとにサブセクションを分ける。\n"
                    "各テーマは2〜3段落で解説し、末尾に参考リンクをまとめて記載する。\n"
                    "主要ニュースの内容を横断的に結びつけ、俯瞰的な視点を提供する。"
                ),
            ),
            TemplateSection(
                title="注目の新サービス・ツール",
                description=(
                    "新しくリリースされたAI関連サービスやツールを箇条書きで紹介する。\n"
                    "各項目は「- **サービス名**（補足情報）：説明文」の形式。\n"
                    "3〜6件程度を目安にする。"
                ),
                required=False,
            ),
            TemplateSection(
                title="まとめと来週の注目ポイント",
                description=(
                    "以下の構成で記述する:\n"
                    "1. 今週の総括（2段落程度）\n"
                    "2. 「**来週の注目ポイント：**」として箇条書き（3〜5項目）\n"
                    "   各項目は「- **イベント名/トピック**（日付）：説明」の形式\n"
                    "3. 締めの1文"
                ),
            ),
        ],
        style_guide="です・ます調。丁寧かつ親しみやすいトーン。"
        "技術的な内容は具体例を交えてわかりやすく解説する。"
        "タイトルは「【{年}年{月}月第{週}週】週刊AIニュースハイライト ― {トピック1}、{トピック2}、{トピック3}」の形式とする。"
        "見出し（h2/h3/h4）には「1. 」のような番号を付けないこと。"
        "WordPressテーマ（Cocoon）が目次を自動生成する際に二重番号になるため。"
        "ただし主要ニュースのh3見出しはHTMLタグで記述し、番号とidアンカーを含める。"
        "各ニュースの末尾に必ず参考リンクを記載すること。",
    )
